# Build *** toolchain

```shell
$ apt install autoconf bison flex gperf texi2html texinfo help2man gawk libtool-bin
```

## Make a `*_defconfig`

```shell
$ make xilinx_zynqmp_virt_defconfig
$ make menuconfig
$ cp .config configs/trenz-electronic-te0802-02_defconfig
```

## Make a device tree

Take the device tree generated by Xilinx SDK. Knead. And produce a device tree for u-boot.

## Generate `pdu_init_gpl.c`

In the u-boot directory

```shell
$ ./tools/zynqmp_psu_init_minimize.sh ../../te0802_02/te0802_02 board/xilinx/zynqmp/trenz-electronic-te0802-02
```

### Manual generation

```shell
$ gcc -xc psu_init_gpl/psu_init_gpl.c -I psu_init_gpl/ -E -P -o psu_init_gpl.c
```

Replace `PSU_Mask_Write` with `psu_mask_write`.
